fabric 比你想象的强呀
* 文本上下标功能
* 打组解组功能
  * toGroup
  * toActiveSelection
* 自定义滤镜
* 自定义控制器 - 删除、编辑、复制
* 完善的事件机制
* 完善的动画机制
  * startValue
  * endValue
  * duration
  * easing
  * onChange
  * onComplete
* 选择（多选、框选）
  * selectable
  * setActiveObject
  * getActiveObject
  * discardActiveObject
  * getPointer

彩总标注系统前端设计

组合元素的属性编辑交互
* 显示所有属性的并集
* 修改属性时，物件有该属性，则修改，否则忽略

基本功能
* 控制器类 controls
  * 删除控制器
  * 复制控制器
  * 编辑控制器：旋转、平移、拉伸、编辑点 - 自带
* 属性显示编辑类
* 绘制类
  * 绘制文本标签 - 自带
  * 绘制多段线
  * 绘制圆 - 自带
  * 绘制三角形 - 自带
* 特殊符号
  * 出入口
  * 地库
  * 消防登高面
  * 停车位

准备几只画笔
* 绘制多段线
  * 画笔颜色
  * 画笔粗细
  * 画笔描边样式 实线、虚线、虚线样式
  * 收尾端点样式：无样式、箭头、封闭、圆
* 绘制闭合图形 - 可不闭合，闭合情况下填充生效

进阶功能
* 撤销重做
* 交互辅助
  * 对齐
  * 捕捉
* 性能优化
  * 当前针对较大文件，缩放帧率比较低

fabric 细节补充
* 多种 Text 区别
  * IText：你可以设置样式为你选择的任意数量的字符，它将应用于选定的部分文本
  * Text：你可以设置任何样式，他将被作用于整个文本
  * TextBox：继承 IText，允许用户调整文本框大小，会自动换行

性能优化
* 图形的更新：通常对于 Canvas 而言，更新需要清除整个画布，重新绘制所有的图形
* Canvas 图形渲染的性能瓶颈
  * 同一时间绘制过多的图形，会阻塞浏览器的进程，导致页面不能响应
  * 鼠标在画布上移动时，如果不能及时捕捉鼠标，会导致卡顿
  * 图形更新时，重绘的时间过长，则帧率非常低
* 绘制更多图形
  * 首次渲染时的优化：分片渲染，每次渲染时间间隔几毫秒的间隔。增加总的渲染时长，但可以降低页面的卡顿感
  * 避免频繁地渲染：只要保证 60 帧的重绘频率即可，所以绘制的间隔不能小于 16 ms，将持续渲染的同步机制，改成每 16ms 的异步延迟渲染机制，可大大降低重绘的频率。可惜 fabric 的 requestRenderAll 就是这么做的
  * 局部更新：仅清空图形所在的包围盒，所有与这个包围盒相交的图形全部刷新，比较复杂，[具体参考](https://www.yuque.com/antv/ou292n/pcgt5g)
* WebGL 实现 2D 渲染
  * 由于 WebGL 的渲染时基于光栅（点），所以绘制线时本质上是通过一个个的点来绘制，逐点计算贝塞尔等曲线不现实，因此绘制的这些曲线不够平滑。
  * 绘制图形时尽量不要直接在 cpu 中计算各个图形的几何模型，而使用 shader 对图形进行计算和渲染，否则性能反而会下降
  * 文本的渲染非常复杂，也不会带来性能的提升

性能优化
* 优先级渲染队列
* 渲染对象分类：动静分离
* 纹理缓存