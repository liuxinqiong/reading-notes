前端需要提供假的权限控制吗，前端权限控制的价值有
* 提升突破权限的门槛
* 过滤越权请求，减轻服务端压力
* 提升用户体验

不同的用户权限不同，通常有如下场景
* 不同的用户在页面中可以看到的元素和操作不同
* 不同的用户对页面的访问权限不同

不同的控制级别
* 执行权限控制
* 渲染权限控制
  * 高阶组件
* 路由权限控制
  * 默认跳转无权限怎么处理
  * 直接访问 URL 返回 403

页面内的权限控制
* useAccess hook、Access 组件
* useAccess 获取权限定义，返回是否有某权限
* Access 有 accessible 和 fallback，用于页面元素的显示和隐藏的控制

路由和菜单的权限控制
* 路由定义中添加 access 属性绑定权限定义中的 key
* 权限路由控制相关的函数，接收当前处理的路由作为第一参数
* 如果值为 false，该路由会从菜单移除，通过 URL 访问对应路由，将看到一个 403 页面

权限相关：plugin-access
* 获取权限相关的初始化信息
* 创建权限定义文件

最终目标
* 路由方面，用户登录后只能看到自己有权访问的导航菜单，也只能访问自己有权访问的路由地址，否则将跳转 4xx 提示页；
* 视图方面，用户只能看到自己有权浏览的内容和有权操作的控件；
* 最后再加上请求控制作为最后一道防线，路由可能配置失误，按钮可能忘了加权限，这种时候请求控制可以用来兜底，越权请求将在前端被拦截

简单步骤
* 登录
  * 获取 token，设置 Authorization header
  * 主动发送一次自动登录的请求，根据返回结果进行跳转
* 获取权限数据
  * 至少包含路由权限和资源权限
* 路由权限：动态生成路由
* 视图控制：需要实现一个可以在视图层调用的权限验证方法，输入用户期望的权限，输出是否拥有该权限，将调用这个方法的结果，作为界面上需要验证权限的控件或元素显示与否的依据。
* 请求控制实际上就是为你使用的 HTTP 库实现一个请求拦截器，对将要发起的请求与用户资源权限进行匹配，拦截越权请求