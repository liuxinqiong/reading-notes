TypeScript 进阶

## 资料
* [了不起的 TypeScript 入门](https://juejin.im/post/6844904182843965453)
* [一文读懂 TypeScript 泛型及应用](https://juejin.im/post/6844904184894980104)
* [TypeScript 入门教程](https://ts.xcatliu.com/)
* [React+TypeScript Cheatsheets](https://github.com/typescript-cheatsheets/react)

定义一套接口格式和错误处理的规范，当失败时统一提示错误，代码只需考虑成功即可，具体格式
* success：表示是否成功，为 false 时按照 showType 和 errorMessage 做统一的错误提示，同时抛出异常
* data：响应数据
* errorCode：自定义的错误编码
* errorMessage：提示给用户的错误信息
* showType：错误信息的提示方式
  * silent：表示静默，不提示
  * message.warn：警告类消息提示
  * message.error：错误类消息提示
  * notification：通知类型
  * page：显示个错误页面，比如直接跳转到 /exception 页面
* traceId：唯一的请求 ID，方便后端进行错误排查
* host：当前访问的服务，也是为了后端进行错误排查

不同的用户权限不同，通常有如下场景
* 不同的用户在页面中可以看到的元素和操作不同
* 不同的用户对页面的访问权限不同

不同的控制级别
* 执行权限控制
* 渲染权限控制
* 路由权限控制

页面内的权限控制
* useAccess hook、Access 组件
* useAccess 获取权限定义，返回是否有某权限
* Access 有 accessible 和 fallback，用于页面元素的显示和隐藏的控制

路由和菜单的权限控制
* 路由定义中添加 access 属性绑定权限定义中的 key
* 权限路由控制相关的函数，接收当前处理的路由作为第一参数
* 如果值为 false，该路由会从菜单移除，通过 URL 访问对应路由，将看到一个 403 页面

TypeScript
* declare module/namespace
* d.ts 结尾的文件会被 TypeScript 默认导入到全局，但是其中不能使用 import 语法，如果需要引用需要使用三斜杠。

权限相关：plugin-access
* 获取权限相关的初始化信息
* 创建权限定义文件