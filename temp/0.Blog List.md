## misc
Diff 算法
* React 技术揭秘：https://react.iamkasong.com/
* https://zhuanlan.zhihu.com/p/20346379
* https://github.com/aooy/blog/issues/2
* http://blog.vjeux.com/2013/javascript/react-performance.html

how to use webworker in cra：workerize-loader

k8s/jenkins/docker/heml

## 前端研究
加快传输速度：使用 GraphQL 让客户机只从服务器请求所需的数据

数据模型设计
* 有时候会纠结两个模型之间，谁关联谁的问题，此时可以回归到关系型数据库中外键如何设计
* 针对计算属性，是应该单独请求还是作为字段呢？
* 考虑引入空方案的设计，路由 `plan/0`

## 代码设计
类设计类型
* Value Object
  * 纯数据结构，常用于底层数据结构
* Entity
  * 领域模型作为语言的扩展
  * 通常属性非常精简，大量使用接口约束其行为，偶尔使用继承封装更特异化领域对象
  * 警惕**数据耦合、方法耦合、超级方法簇**？？？
* Service/aggregate/Aggregation
  * 业务逻辑的步骤，常用于模块入口、顶层模块
  * 类名基本上都是以计算过程或者计算者命名，尽可能的精简属性

Shapely 分享
* 性能
  * STRTree
  * 桶方法
* 图形之间的 9 种关系
* 对象组合设计：类 进入某个模式
* 指定某个策略
* Predicator？？
* 职责链模式
* 柯立化类
* 找稳定的因素

## editor 优化
增强 editor
* StaticEditor：针对无须交互场景，提高性能
* getPointerPosition()
* getIntersection(pos)
* getObjectsAtPixel(pixel, targets)

lexical(文本编辑框架) api 分析
* editor：将所有内容连接在一起的核心对象
* registerCodeHighlighting(editor)
* Listeners, Node Transforms and Commands
  * registerNodeTransform
  * registerUpdateListener(callback) => 类似于特殊的 addEventListener
  * registerCommand(command, listener, priority)
  * dispatchCommand(type, payload)

命令模式（感觉类似事件机制）对于构建工具栏或复杂插件机制十分有用。

可能的优化
* 对于未激活的功能，监听不应开启，以及辅助元素不应添加到场景
* 更好的 line 支持度：http://evomap.cn/demo/sandbox/sandbox.html#line/line
* 场景常用 dom 元素封装，如 popup

增强事件机制 - 很重要
* 针对 editor 本身事件机制
* 针对 object 的事件机制

事件分类
* 鼠标类 mouse:down | mouse:move | mouse:up
* 物体类 object:modified | object:selected | object:moving | object:scaling | object:rotating | object:added | object:removed

增强基础编辑能力
* 移动、缩放、旋转
* 删除、编辑、复制
* 选择逻辑

增强样式操作
* styling/coloring
* highlight/resetHighlight

相关问题
* 内置的相关对象继承 Object3D，无法通过继承的方式扩展对象
* 整理场景样式修改的情形，如修改线颜色、线宽、线型、面颜色、点颜色、点大小、点型

## 技术需求
如何优雅控制元素显隐和副作用，如副作用：桩基墙枝处理、进入生成页
* 墙枝处理完后，通过 setState 控制某些 ui 的显示
* 需要调用 editor 去销毁场景元素

在同一个页面，如何清除副作用
* 多页时，组件销毁重建时，副作用自然消失
* 需要确定一个规则，如组件销毁时，用于清理副作用

全局功能可能会造成的影响
* 切换方案时的当前状态：切换多层、切换3D时同理
* 撤销重做多层的问题

方案生成
* 通过 mode 区分车位排布、设备用房、防火分区
* parent_id 表示项目，result_id 表示方案集，set_id 表示某个方案
* 查询参数 result_id 进入某个方案，此时页面原本的生成按钮消失
* 新增深化设计入口

Vectary UI overview
* 顶部栏：模式切换和工具栏，根据模式的不同，会有不一样的工具栏
* 左侧栏：图层面板和素材
* 右侧栏：默认显示当前画布信息，有选择对象时显示当前对象信息
* 底部栏：控制 bar

产品设计
* model-based-design：自下而上
* scene-based-design：自上而下

## 微信登录
OpenID vs UnionID：为了识别用户，每个用户针对每个公众号会产生一个安全的 OpenID，如果需要在多公众号、移动应用之间做用户共通，则需前往微信开放平台，将这些公众号和应用绑定到一个开放平台账号下，绑定后，一个用户虽然对多个公众号和应用有多个不同的 OpenID，但他对所有这些同一开放平台账号下的公众号和应用，只有一个 UnionID。

感觉绑定 unionid 比较通用。

state：用于预防 csrf 攻击，因为拥有 code 的 redirect_uri 地址一旦被劫持，此时通过 csrf 手段诱导其他用户访问该链接，就会导致认证信息错误认证，因为 redirect_uri 是没有发起者用户信息的，换一个用户访问也会认证通过，导致的后端就是，你把你账号绑定了别人的微信。为了应对这种情况，引入了 state 参数，用于保持请求和回调的状态，在回调时，会在查询参数时回传该参数，开发者可以通过该参数验证请求有效性。要求这个参数不可预测，又必须充分证明 client 和当前第三方网站的登录认证状态存在关联，如果存在过期时间则更好

相关接口描述
* 新增 wx_config 接口，用于返回 appid，目前感觉接口写死即可。（前端也可写死，但感觉交给后端更好一点）
* 新增 wx_userinfo 接口，目前后端直接调 access_token 接口即可，只需要 unionid，如需要更多信息，需要调 userinfo 接口
* 修改 login 接口，支持通过 unionid 登录
* 修改 register 接口，支持通过 unionid 注册
* 新增 patch user/current？用户更改用户信息，绑定与解绑微信

## StrictMode
Strict Mode 在开发环境下表现
* 组件将额外渲染一次，以发现由于不纯渲染导致的问题
* 组件将额外执行依次 effects，以发现由于没有 cleanup 导致的问题
* 检查过期 api 的使用


## etc
哪些其他领域的研究将有助于毕业生变成卓越的软件设计师?
1. 算法和数据结构是最重要的基础课程。
2. 计算机硬件架构。
3. 应用领域，特别是商业数据处理、数据库技术和数据挖掘。
4. 心理学，特別是知觉心理学，因为用户是最重要的。

关于官网
* 怎么登录
* 能做什么：快速使用的最短路径
* 帮助文档


## 补充
WebGL 内置变量
* gl_PointSize 方形点区域渲染像素大小
* gl_Position 顶点位置坐标
* gl_PointCoord 点像素坐标
* gl_FragColor 片元颜色值
* gl_FragCoord 片元坐标，单位像素