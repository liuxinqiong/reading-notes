本篇主要回顾一下这三年的旅途中，对于产品侧的思考总结，这里的产品不仅指产品本身，还包括与产品经理的协作等。

<!-- more -->

## 背景
我们产品是一款服务于地库智能生成的设计产品，用户通过上传初始图纸，给定参数的情况下，通过算法智能生成多个车位排布方案，在线查看已生成方案排布和指标，同时提供符合设计师习惯的 CAD 在线编辑环境以精准编辑已有方案，最终导出满足要求的方案。旨在帮助设计节省时间，以及穷尽可能性。

产品的特殊性
* 具有强烈的专业性：不同于日常生活中大家都能接触到的领域，如电商、即时通信等，建筑行业相对而言领域性更强，这意味着没有太多成熟范式，需要自行慢慢摸索；同时对上下游的沟通也提出更大的挑战，在缺少有效沟通的背景下，测试工程师无法判断方案好不好，算法工程师也无法判断逻辑是否严谨等现象
* 设计软件的复杂度：相比信息浏览类应用，设计软件会更复杂，尤其是在线编辑等，编辑软件更考验产品设计功底和工程师代码模块设计能力

## 相关问题
主要问题如下
* 不稳定数据模型：设计好的数据模型总是因为需求反复被推翻
* 难以取舍：不愿取舍或无法取舍，主要表现在交互、视觉、以及产品经理和设计师的协作上
* 没有清晰的产品地图：企图在一个房间里做完所有的事情，导致页面关注的域数据过多
* 缺少一个织网人：产品设计没有由点及面，表现每个产品经理只考虑自己的模块

## 数据模型
和技术同事探讨过这个问题：为什么我们的数据模型会反复剧烈变化呢？

当时我们得出两个概念，分别是 model based design 和 scene based design，而我们的产品设计模式属于后者，当然这也是有背景原因的，因为我们的产品经理主要的身份是建筑设计师，而不是互联网 Web 产品设计师，在最初要求产品经理们理解 data model 是一件为难彼此的事情。

基于 scene based design 设计带来的弊端就是设计会非常的发散，因为对方并不会从数据存储的角度去考虑，思维就会像脱缰的野马一般，导致的后果就是 data model 反复推翻，相反如果是 model based design 模式，在产品最初，视角就会更全局，看的更长远一些，日后的设计也会尽可能依靠已有的设计去实现或取舍。

同时由于缺少对 Web 产品工作原理理解、以及背后数据存储思考，思考范式更多停留在客户端应用，无法理解数据的传输和存储，导致对一些看似平常现象需要更多的沟通，比如
* 不想要分页逻辑，但又不希望加载慢。
* 对一些列表数据字段不愿取舍，由于某个字段可能是个重计算逻辑，此时就会成为列表加载的瓶颈。
* 各种用户操作产生的临时状态都想要存，如希望下次进来能默认上次用户的选择，这就会导致如 Project 等模型挂载很多参数，而且每次用户修改都是隐式的发请求。曾提出过新增一个项目级偏好设置的功能，这样用户能显式修改，个人觉得产品体验和开发体验都更好，但没被采纳。

> 面向模型的思考范式，会指导产品设计上的思考，比如项目设置、方案设置、用户设置等入口，相反这些看似简单的产品设计反而不易被想到，

## 难以取舍
关于取舍主要表现在如下
* 什么捷径都想要
* 个性化的视觉
* 模糊的决策人

产品经理热爱增加很多捷径，理由是使用起来更方便，不需要跳转出去重新选择，比如在方案编辑页希望能查看方案列表并支持切换方案，多个页面都能随时随地使用上传底图功能，这些捷径往往会导致代码复杂度上升，因为于开发而言，增加了很多意外情况，代码更容易出 bug。

比如针对方案编辑页的捷径，当初就强烈争取过，理由是
* 因为当前页重点不是方案列表，交互设计需要更严谨以避免冲突
* 切换方案会给当前主要功能引入不宜察觉的 corner case，导致易出 bug
* 当前编辑方案被用户从方案列表中删除掉

关于视觉设计这一块，由于每个人的审美都是不一样的，就很容易和标准起冲突，有一个统计表明，目前没有哪一个设计语言占据了绝对的统治地位。前端生态沉淀了很多优秀的标准组件库，但标准天然和个性化就是冲突的，但往往部分设计师很爱在标准上做一些个性化的优化，因为她觉得那样更好看，但这会导致开发十分的痛苦，因为对已有组件库做一些魔改的成本是很大的，再加上我们是工具型软件，更重要的是逻辑，而不是个性化的视觉效果。在团队之初，这一块合作起来就很不顺畅，导致前端成员也十分抵触。前端团队最开始选的是 ant design，因为这在国内非常成熟稳定，但设计师在做功能设计时，会去部分参考新出的 arco design 的视觉效果，导致成员做页面还原时效率低下且恼火，关于这一块当初专门写说明文档，召集产品、设计、技术开会，解释为什么这样做对于开发而言是很麻烦的，最后就是各退一步，前端直接将 ant design 切换到 arco design，设计师承诺尽可能直接用已有的组件库，不去做调整。

> 并不是拒绝个性化，而是要针对场景抓主次，针对工具性软件，内部功能更复杂，重心就应该放在逻辑实现上，视觉上选用一个标准的设计语言（组件库）是最高效的做法，做到了视觉标准化就已经守住了下限，但反过来，针对 landing page 而言，个性化就很重要，需要抓住人的眼球，表达出团队的态度等，此时组件库往往很难满足要求。

关于模糊的决策人，我一直在思考设计师角色的定位，他是属于产品经理的下游，还是产品经理的 support 呢？或者换句话而言，设计师和产品经理谁是最终的产品负责人呢？

原因是我观察到一个现象，产品经理会觉得我把需求整理好了就行，然后交付给下游（设计师），他的工作就已经完成了，至于这个产品视觉排列，怎么交互，什么产品路径，就觉得和自己没关系了，产品经理会觉得这是设计师的工作，设计师会比他们更专业。但这会导致一个问题，开发遇到不合理的逻辑时，会不知道该找谁沟通，因为这里缺少一个第一个责任人，尤其是针对一些调整修改时，往往会出现互相推诿的情况，从设计师的角度而言，这是产品功能，他是没办法做决策的，从产品经理角度而言，我的功能需求被满足就行，至于具体细节交互，就按设计师来的就行。

其实于我个人而言，设计师更应该是一个 support 角色，设计师和产品经理应该作为一个整体去交付，其中产品经理去作为第一个负责人，怎么理解这里的第一责任人呢，那就是如果设计上确实有问题，那就是产品经理的责任，而不是推诿给设计师，说是设计师这么设计，我不知道之类的话，之所以这么思考是因为，产品经理对于整个产品需求的理解、产品未来发展比设计师有更高的背景和专业度，产品经理就应该和设计师保持紧密联系，这不是上下游关系，没办法隔离开来。在上下游关系上，**上游环节越是认真，效率就越高，反之效率就越低**，尽可能将大部分问题解决产品经理<->设计师这个小环节中，而不是后续开发反过来去沟通，然后还不知道找谁沟通。

即使这样，也无法避免开发需要就一些细节沟通调整，这时候开发就应该直接找产品经理这个第一责任人，而不是既找产品经理又找设计师，产品经理在理解缘由后，去找设计师做一些调整，过程中产品经理也要敢于对设计做一些取舍，毕竟你是第一责任人。这里很容易陷入一个误区，当产品经理和设计有冲突时，或许由于懒惰、或许由于和气、或许因为无知，就两个方案都保留在产品中，企图给用户多一个选择，最终苦了程序员也苦了用户。不要笑，这是真实发生的事情。

这里有个观察到的小现象：设计师很喜欢一些自动操作，理由是这样可以提高用户体验，比如自动选择第一个方案，如当前方案被删除，自动切换到下一个，复制方案时自动切换到新方案，**有种去假设用户下一步要做什么的感觉，然后自动帮用户做了**。但教训告诉我这往往并不讨喜，第一是这种逻辑对于开发而言并不顺畅，第二就是这个假设往往并不成立，反而导致体验下降，比如自动选择一个方案，此时需要请求方案详情，一旦用户并不想打开这个方案，此时用户需要等待请求完成，然后再次选择自己想要的方案，从而造成 double 耗时。

## 产品地图
关于产品地图是我自己总结的一个概念，举个生活中的比喻，假设你去医院就诊，你一开始只会挂号去找分诊台，分诊台会给你取号，指导你去诊室，但其实你并不能在诊室里完成所有的步骤，他只会进一步给你分发，比如你需要去缴费处缴费，需要去药房取药，去检查科去做进一步检查，甚至再次回到诊室等等，很明显如果将所有操作都集中在一个诊室里全部完成，好像会很方便，因为不需要跑来跑去呢，但其实会带来更多问题
* 诊室的秩序会很用心维护，否则这个诊室该有多混乱
* 每个诊室都设置缴费、配药、检查等，那么这些模块就很难被复用了，成本会很高
* 这是个平衡的问题，你需要考虑频率问题，不能矫枉过正，对于高频常用功能，比如取号，可以每个科室设置一个分诊台

映射到产品设计上，我并没有总结出什么黄金法则，平衡问题表达起来就是会有点抽象，首先肯定不建议试图在一个房间完成所有的事情，需要多个房间进行协作，且每个房间应该重点清晰，针对低频功能就可以适当收纳起来以突出重点，而不是喧宾夺主。

> 局部设计也可以参考，进入某模块后，你就只能使用该模块下功能，必须退出才能使用其他模块的功能，而不是很突然的串台了。

同时，使用网页应用时，如果没有明确的导航，便会很快在里面迷路。试想你驾车行驶到高速公路分叉口时，却看不见任何路牌，那该会怎样地困惑、沮丧、愤怒和恐惧。

因此网页最好任何位置都能明确“我在哪里？这里有什么？从这里能去哪里？”。为了更好的明确这几个问题，首先要**给每个栏目设计名字**，确定合适的导航模式，同时每个页面突出重点（这个页面最重要的是什么）。

如果一个页面你很难给出一个定位（取一个合适的名字），通常意味着这里缺少了一步，功能杂糅。举个例子，有这么个页面，左侧 sider 显示方案列表，在这里可以进行方案列表管理，选中方案后，内容区域会渲染当前方案，且支持方案属性编辑，此时我该怎么称呼这个页面呢，方案列表管理页吗？但它屏幕占比很低，看上去并不是重点？方案详情页吗？但他的主要操作是针对列表。技术上由于列表管理和单条编辑功能共存，需要额外考虑很多 corner case，从而容易导致一些意料之外的 bug。
* 当前查看的条目，突然被列表管理删除了（会影响到当前的编辑状态）
* 当前查看的条目，突然被楼层管理删除了（会影响到当前的编辑状态和列表中当前层的显示）

> 站在用户的角度，导航标签代表的是整个网站的内容、产品的结构，他们必须依靠标签的内容和组织方式来寻找网站中的信息。这个栏目叫什么名字是比具体功能设计更重要的事

回到技术角度，编写代码本质上是在维护数据（状态）的正确性，需要考虑这个页面需要什么数据？是否更新这些数据？怎么提交更新数据？首先明确数据来源很重要。数据来源分为两类：服务端状态和客户端状态，对于单个页面，不宜关注的域数据过多。

## 织网人
产品阶段性完成后，总会给我一个感觉，我们得到了很多把斧子，但这些斧子并不能构成一个大型机械。

对应到产品上就是，每个产品经理的设计只会考虑自己的功能，这会导致每个产品经理对彼此的功能可能是不知情的，有可能彼此冲突也并不知道，功能有可能趋同、设计上有可能不一致等等。也可能是因为产品设计之处，我们就没有一个很好的框架去支撑这一切，而不是走一步是一步。很多时候摸石头过河也是无奈之举，但是否可以新增一个织网人角色，扮演一个总设计师角色，会不断反思已有功能，动态思考每个新增功能，由点及面，实现升华。